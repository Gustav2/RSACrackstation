@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    <h1 class="display-4">Welcome</h1>
    <input id="num" class="border border-2 outline-none w-1/2"/><br/>
    <button id="subBtn" onclick="factorize()">Submit</button>
    
    <h1 id="failText"></h1>
</div>
<div id="primeDiv" class="flex justify-content">
    <input id="p" class="border rounded outline w-1/2"><br/>
    <input id="q" class="border rounded outline w-1/2"><br/>
    <a id="redirectRSA">gamer</a>
</div>

<script>
    $("#num").keypress(function(event) {
        if (event.keyCode === 13) {
            factorize();
        }
    });
    
    function factorize() {
        $.ajax({
            url: "/api/GetFactors",
            type: "POST",
            data: {
                "inputNum": $("#num").val()
            },
            success: function(data) {
                console.log(data);
                if (data[0] == -1 || data[1] == -1) {
                    console.log("fuck.. endnu en fejl")
                    $("#failText").text("yo makker der skete en fejl bare lige så du ved det");

                    return 
                }
                console.log(data);
                 $("#failText").text("")
                $("#p").text(data[0]);
                $("#q").text(data[1]);
                $("#redirectRSA").attr("href", "/Home/RsaCrack?p=" + data[0] + "&q=" + data[1]);
            }
        });
    }



</script>