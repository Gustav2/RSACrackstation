\documentclass{article}

% Language setting
% Replace `english' with e.g. `spanish' to change the document language
\usepackage[danish]{babel}

% Set page size and margins
% Replace `letterpaper' with `a4paper' for UK/EU standard size
\usepackage[a4paper,top=2cm,bottom=2cm,left=3cm,right=3cm,marginparwidth=1.75cm]{geometry}

% Useful packages
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage[colorlinks=true, allcolors=black]{hyperref}
\usepackage{tikz}
\usetikzlibrary{calc}
\usepackage{anyfontsize}
\usepackage{sectsty}


\usepackage{minted}


\usepackage{wrapfig}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

\begin{document}
    \begin{titlepage}
        \begin{center}
            \vspace{1cm}

            \textbf{RSACrackstation}

            \vspace{0.5cm}
            Rapport over RSACrackstation projektet

            \vspace{1.5cm}

            \textbf{Daniel Nettelfield og Gustav Nybro}

            \vfill

            A thesis presented for the degree of\\
            Doctor of Philosophy

            \vspace{0.8cm}

            Teknisk Gymnasium Silkeborg\\
            3x\\
            31/10 - 2022

        \end{center}
    \end{titlepage}

    \newpage

    \tableofcontents

    \section{Abstract}\label{sec:abstract}

    Your introduction goes here! Simply start writing your document and use the Recompile button to view the
    updated PDF preview. Examples of commonly used commands and features are listed below, to help you get started.

    Once you're familiar with the editor, you can find various project settings in the Overleaf menu, accessed
    via the button in the very top left of the editor. To view tutorials, user guides, and further documentation,
    please visit our \href{https://www.overleaf.com/learn}{help library}, or head to our plans page to
    \href{https://www.overleaf.com/user/subscription/plans}{choose your plan}.


    \section{Problemformulering}\label{sec:problemformulering}

    \subsection{Beskrivelse}\label{subsec:beskrivelse}
    Hjemmesiden er en side der kan faktorisere primtal ved hjælp at af API call til en ekstern database.
    Derudover kan hjemmesiden bruges til at bryde krypteringsalgoritmen RSA, og dertil dekryptere indtastet tekst.
    Derudover kan hjemmesiden også bruges til at kryptere tekst med RSA. Hjemmesidens målgruppe er primært CTF
    spillere, cybersikkerheds entusiaster og andre der skal kryptere og dekryptere med RSA\@.

    \subsection{Krav}\label{subsec:krav}
    \begin{itemize}
        \item Hjemmesiden skal kunne faktorisere primtal.
        \item Hjemmesiden skal kunne bryde RSA kryptering.
        \item Hjemmesiden skal kunne kryptere med RSA\@.
    \end{itemize}



    \section{Hvad er RSA?}\label{sec:hvad-er-rsa}
    RSA er en asymmetrisk kryptografialgoritme, som er udviklet af Ron Rivest, Adi Shamir og Leonard Adleman i 1977.
    En asymmetrisk kryptografialgoritme er en kryptografialgoritme der bruger to forskellige nøgler til at kryptere og dekryptere,
    og bruges ofte af blandt andet banker, til at sikre deres data.
    Idéen er er man kan offenliggøre krypteringsnøglen, men beholde dekrypteringsnøglen privat, så brugere kan kryptere data på deres egen maskine,
    og sende den krypterede tekst til banken, som dekrypterer den med sin private nøgle.
    RSA nøglerne er genereret ved at bruge to primtal, som er valgt tilfældigt.
    Den offentlige nøgle regnes ved at gange de to primtal sammen, og den private ved at bruge en kompliceret algoritme,
    der hedder Extended Euclidean Algorithm.
    De to tilfældige primtal kaldes \emph{p} og \emph{q}, deres produkt (den offentlige nøgle) kaldes \emph{n}, og den private nøgle kaldes \emph{d}.
    Udover at bruge primtal til at generere RSA nøglerne, bruger RSA også en eksponent, som har en række af krav den skal opfylde,
    alt efter værdierne af de to primtal.
    Dog findes der et tal, som altid kan bruges som eksponent, og det er 65537, denne eksponent kaldes \emph{e}.
    Det sidste tal man bruger i RSA, hedder \emph{m}, og er den værdi man gerne vil sende, ofte en tekst.

    \subsection{Hvordan virker RSA?}\label{subsec:hvordan-virker-rsa}
    Når man krypterer med RSA, bruges følgende formel:
    \begin{equation}
        c = m^e \mod n \label{eq:rsa-encrypt}
    \end{equation}
    Her bruges modulus regning, som er måden man sikrer, at den krypterede tekst, ikke kan dekrypteres.
    Modulus virker nemlig ved at tage resten efter en heltalsdivision,
    det vil sige at flere udregninger godt kan give det samme resultat
    \begin{equation}
        2^{11} \mod 527 = 467 \label{eq:mod-ex}
        106^{13} \mod 551 = 467
        m^e \mod n = c
    \end{equation}
    I dette eksempel, er m = 2, på første linje og m = 106 på anden linje kan man se at bare fordi man kender c,
    betyder det ikke at man kender m, da c er ens i begge eksempler, men m er forskellige.
    For at dekryptere denne tekst skal man bruge værdien for d.
    I dette eksempel bruger vi meget små tal, og det er derfor meget nemt at faktorisere de to moduluer.

    \section{Hvad er en API?}\label{sec:hvad-er-en-api}
    API står for Application programming interface, hvilket er en måde for noget kode at intergere med noget andet kode.
    En API er modsætningen til en bruger interface, som er et interface ment til mennesker.
    API calls kan enten ændre data eller hente data fra en server.
    APIs er overalt på internettet og største delen af populære hjemmesider bruger APIs.
    Et godt eksempel på en API der bliver brugt af mange mennesker, er Rejseplanen.
    Rejsplanen fungerer ved at en bruger indtaster noget data, som bliver sendt til backenden.
    Backenden sender kun rå JSON data tilbage, som frontenden behandler og viser på en måde, brugeren lettere kan forestå.


    \section{Frontend}\label{sec:frontend}
    For at kunne bruge hjemmesiden ordenligt er et vigtigt med et brugervenligt interface.
    For at kunne lave et brugervenligt interface, skal der bruges HTML, CSS og JavaScript.
    Det er muligt at lave en flot og meget brugervenligt interface med blot normal CSS og JavaScript,
    men for hurtigere at kunne udvikle vores produkt, valgte vi at bruge Tailwind CSS og JQuery i stedet.
    Tailwind CSS er et CSS framework, der han en masse prædefineret klasser, som kun har en bestemt funktion.
    Man kan derfor hurtigt lave et flot interface, uden at skulle skrive CSS selv, men bare bruge de prædefinerede klasser.
    Tailwind gør det også nemmere at lave et responsivt UI, da hele frameworket er bygget op omkring det.

    \medskip

    Alle vores HTML elementer som er blevet ændret med Tailwind, har to forskellige klasser - en til darkmode og en til lightmode.
    Et eksempel kan ses nedenfor

    \begin{minted}[frame=lines,framesep=2mm,baselinestretch=1.2,fontsize=\footnotesize]{html}
        <div class="w-fit dark:text-white text-gray-800">
        ...
    \end{minted}

    I eksemplet ovenfor bliver der oprette et $<div>$ tag som indeholder nogle elementer.
    Tagget har to klasser der ændrer tekstens farve, som burde overskrive hinanden, men fordi den ene har \emph{dark:} foran,
    bliver den kun brugt når darkmode er slået til.

    \medskip

    Hjemmesiden kan arbejde både med decimaltal og hexadecimaltal, og der er en knap der skifter mellem dem.
    Hvis man kopirer tallet et sted fra, kan man nemt glemme at skifte mellem de to, hvilket er derfor den automatisk
    skifter mellem dem, afhængig af hvad der er indsat i inputfeltet.
    Koden nedenfor skifter automatisk mellem de to.
   


    \begin{minted}[frame=lines,framesep=2mm,baselinestretch=1.2,fontsize=\footnotesize,linenos]{javascript}
    // Checks if number is pasted and automatically changes state to hex if hex is pasted
    $("#num").bind('paste', function(e) {
        let data = e.originalEvent.clipboardData.getData('text'); // Gets data from clipboard
        if (/[A-Za-z]/g.test(data)) {  // Regex to check if hex is pasted
            if (!isHex){
                updateHexToggle();
            }
        }
        else if (isHex){
            updateHexToggle()
        }
    });
    \end{minted}
    Funktionen \emph{bind} bliver kaldt på \emph{#num}, som er inputfeltet hvor brugeren indtaster tallet.
    Når der bliver kopieret noget ind i inputfeltet, bliver \emph{paste} funktionen kaldt.
    Funktionen henter data fra clipboardet og gemmer det i en variabel.
    Herefter bliver der brugt en regex til at tjekke om der er nogle bogstaver i det indsatte tal.
    Hvis der er nogle bogstaver, bliver der tjekket om \emph{isHex} er \emph{false}, hvis det er tilfældet, bliver \emph{updateHexToggle} kaldt.
    \emph{updateHexToggle} skifter mellem de to, og hvis \emph{isHex} er \emph{true}, bliver den kaldt igen, så den skifter tilbage til decimaltal.
    


    \section{Backend}\label{sec:backend}

    \subsection{RSA Funktionalitet}\label{subsec:rsa-funktionalitet}

    \subsection{API call}\label{subsec:api-call}

    \section{Konklusion}\label{sec:konklusion}

    \bibliographystyle{alpha}
    \bibliography{sample}

\end{document}
